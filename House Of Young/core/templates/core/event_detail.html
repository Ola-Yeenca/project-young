{% extends 'core/base.html' %}

{% block title %}{{ event.title }}{% endblock %}

{% block scripts %}
{% comment %} threejs link {% endcomment %}
<script src='https://cdnjs.cloudflare.com/ajax/libs/three.js/0.160.0/three.min.js'></script>

<script>
  const webgel = '{{ webgel | safe }}';
  if (webgel.trim() !== '') {
    const parsedData = JSON.parse(webgel);
    console.log(parsedData);
  } else {
    console.error('The webgel variable is empty.');
  }

</script>


{% endblock %}

{% block content %}

<div id="webgel" class="webgel" style="position: fixed; top: 0; left: 0;">
  <div class="row" style="position: absolute; color: gold;">
    <article>
        <h2>{{ event.title }}</h2>
        <img src="{{ event.image.url }}" alt="{{ event.title }}">
        <p>{{ event.content }}</p>
        <p>Date and Time: {{ event.event_date }}</p>
        {% if event.qr_code %}
            <img src="{{ event.qr_code.url }}" alt="QR Code">
        {% endif %}
        <!-- Add other details as needed -->
    </article>

    <section>
        <h3>Related Events</h3>
        {% for related_event in related_events %}
            <!-- Display related events -->
            <article>
                <h4>{{ related_event.title }}</h4>
                <!-- Display other details -->
            </article>
        {% endfor %}
    </section>
  </div>

</div>
{% endblock %}
